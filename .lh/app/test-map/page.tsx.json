{
    "sourceFile": "app/test-map/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1752438477641,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1752438477641,
            "name": "Commit-0",
            "content": "'use client';\r\n\r\nimport { useState } from 'react';\r\nimport TripMap from '@/components/map/TripMap';\r\nimport MapTest from '@/components/map/MapTest';\r\nimport { Trip, Destination, TripDay, getDayColor } from '@/types';\r\n\r\nexport default function TestMapPage() {\r\n  const [activeTab, setActiveTab] = useState<'map-test' | 'trip-map'>('map-test');\r\n\r\n  // Sample data for testing TripMap\r\n  const sampleTrip: Trip = {\r\n    id: 'test-trip-id',\r\n    userId: 'test-user-id',\r\n    name: 'Test Trip to New York',\r\n    location: 'New York, NY',\r\n    startDate: '2024-01-15',\r\n    endDate: '2024-01-17',\r\n    isPublic: false,\r\n    createdAt: new Date(),\r\n    updatedAt: new Date(),\r\n  };\r\n\r\n  const sampleDestinations: Destination[] = [\r\n    {\r\n      id: 'dest1',\r\n      tripId: 'test-trip-id',\r\n      locationName: 'Central Park',\r\n      address: 'Central Park, New York, NY',\r\n      lat: 40.7829,\r\n      lng: -73.9654,\r\n      day: 1,\r\n      orderIndex: 1,\r\n      startTime: '09:00',\r\n      endTime: '11:00',\r\n      notes: 'Morning walk in the park',\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n    },\r\n    {\r\n      id: 'dest2',\r\n      tripId: 'test-trip-id',\r\n      locationName: 'Times Square',\r\n      address: 'Times Square, New York, NY',\r\n      lat: 40.7580,\r\n      lng: -73.9855,\r\n      day: 1,\r\n      orderIndex: 2,\r\n      startTime: '14:00',\r\n      endTime: '16:00',\r\n      notes: 'Tourist photos and shopping',\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n    },\r\n    {\r\n      id: 'dest3',\r\n      tripId: 'test-trip-id',\r\n      locationName: 'Statue of Liberty',\r\n      address: 'Statue of Liberty, New York, NY',\r\n      lat: 40.6892,\r\n      lng: -74.0445,\r\n      day: 2,\r\n      orderIndex: 1,\r\n      startTime: '10:00',\r\n      endTime: '13:00',\r\n      notes: 'Ferry ride and tour',\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n    },\r\n  ];\r\n\r\n  const sampleTripDays: TripDay[] = [\r\n    {\r\n      day: 1,\r\n      date: '2024-01-15',\r\n      destinations: sampleDestinations.filter(d => d.day === 1),\r\n      color: getDayColor(1),\r\n    },\r\n    {\r\n      day: 2,\r\n      date: '2024-01-16',\r\n      destinations: sampleDestinations.filter(d => d.day === 2),\r\n      color: getDayColor(2),\r\n    },\r\n    {\r\n      day: 3,\r\n      date: '2024-01-17',\r\n      destinations: [],\r\n      color: getDayColor(3),\r\n    },\r\n  ];\r\n\r\n  const [selectedDestination, setSelectedDestination] = useState<Destination | null>(null);\r\n  const [selectedDay, setSelectedDay] = useState<number>(1);\r\n\r\n  const handleDestinationSelect = (destination: Destination) => {\r\n    setSelectedDestination(destination);\r\n    setSelectedDay(destination.day);\r\n  };\r\n\r\n  const handleDestinationAdd = (destination: Destination) => {\r\n    console.log('New destination added:', destination);\r\n    // In a real app, this would save to the database\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">Map Testing Page</h1>\r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                onClick={() => setActiveTab('map-test')}\r\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                  activeTab === 'map-test'\r\n                    ? 'bg-primary-600 text-white'\r\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n                }`}\r\n              >\r\n                Basic Map Test\r\n              </button>\r\n              <button\r\n                onClick={() => setActiveTab('trip-map')}\r\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                  activeTab === 'trip-map'\r\n                    ? 'bg-primary-600 text-white'\r\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n                }`}\r\n              >\r\n                Trip Map Test\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto p-4\">\r\n        {activeTab === 'map-test' && (\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200\">\r\n            <div className=\"p-4 border-b border-gray-200\">\r\n              <h2 className=\"text-lg font-semibold text-gray-900\">Basic Google Maps API Test</h2>\r\n              <p className=\"text-sm text-gray-600 mt-1\">\r\n                This tests the basic Google Maps API functionality without any trip data.\r\n              </p>\r\n            </div>\r\n            <div className=\"h-[600px]\">\r\n              <MapTest />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'trip-map' && (\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200\">\r\n            <div className=\"p-4 border-b border-gray-200\">\r\n              <h2 className=\"text-lg font-semibold text-gray-900\">Trip Map Test</h2>\r\n              <p className=\"text-sm text-gray-600 mt-1\">\r\n                This tests the TripMap component with sample trip data.\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"p-4\">\r\n              <div className=\"mb-4\">\r\n                <h3 className=\"font-medium text-gray-900 mb-2\">Sample Trip Data:</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\r\n                  <div className=\"bg-gray-50 p-3 rounded\">\r\n                    <div className=\"font-medium\">Trip: {sampleTrip.name}</div>\r\n                    <div className=\"text-gray-600\">Location: {sampleTrip.location}</div>\r\n                    <div className=\"text-gray-600\">Days: {sampleTripDays.length}</div>\r\n                  </div>\r\n                  <div className=\"bg-gray-50 p-3 rounded\">\r\n                    <div className=\"font-medium\">Destinations: {sampleDestinations.length}</div>\r\n                    <div className=\"text-gray-600\">Day 1: {sampleTripDays[0].destinations.length} places</div>\r\n                    <div className=\"text-gray-600\">Day 2: {sampleTripDays[1].destinations.length} places</div>\r\n                  </div>\r\n                  <div className=\"bg-gray-50 p-3 rounded\">\r\n                    <div className=\"font-medium\">Selected Day: {selectedDay}</div>\r\n                    <div className=\"text-gray-600\">\r\n                      Selected: {selectedDestination?.locationName || 'None'}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"h-[600px] border border-gray-200 rounded-lg overflow-hidden\">\r\n                <TripMap\r\n                  trip={sampleTrip}\r\n                  destinations={sampleDestinations}\r\n                  tripDays={sampleTripDays}\r\n                  selectedDestination={selectedDestination}\r\n                  selectedDay={selectedDay}\r\n                  onDestinationSelect={handleDestinationSelect}\r\n                  onDestinationAdd={handleDestinationAdd}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n} "
        }
    ]
}